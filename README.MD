Как это работает:
- На вход подается sbv
- На выход лбой файл в любом формате

Методы
1) remove timelines - удаляет таймлаыйны и сохраняет  output file

    input file - файл, который имеет исходные данные по переводу
    
    output file - итоовый файл с переводом и таймлайнами

2) concat translate with timelines 
    
    input file - файл, который имеет исходные данные по переводу
    
    output file - итоовый файл с переводом и таймлайнами
   
    subs_file - перевденный файл, без таймлайнов из гугл транслейт.
3) prepare timelines string length

---

vim -NO +'set nu' +'windo set scrollbind' /home/kirill/PycharmProjects/captions-handler/files/captions_without_timelines.sbv /home/kirill/PycharmProjects/captions-handler/files/captions_without_timelines_improved.sbv


# Разбиваем один таймлайн на несколько

0:00:00.110,0:00:06.450
1) Берем первое поле, включая новую строку.
Разбиваем ее в класс TimeLine:
время от, 
время до,
Текст
Определяем время от и до. Переводим время в миллисекунды.
2) Берем следующий по очереди в массиве промежуток времени
Определяем объект TimeLine

3) Определяем Разницу между timelines
4) Делим ее, если в строке больше 35 символов по пробелам
Если поделить не получается нормально, то делим в меньшую сторону (меньше 35символов)




files/captions_rus_test.sbv
files/captions_rus_test_res.sbv


# Алгоритм по транскрибации на английский
1) Преобразование без пунктуации предложений и всех caption lines
2) Циклом идем по sentences
3) Определяем по расстоянию Левенштейна схожие captionLine и добавляем в массив
4) Подрезаем captionLines в зависимости от количества символов по каждому элементу.
5) Достаем пропорционально размеру CaptionLine форматированную строку.
6) Если в строке есть нераспознанные символы, то они заносятся в поле left_unformatted_text
7) Если caption_line проверялась дважды, то она исключается из обработки.
8) Есть вероятность того, что не вся caption line распозналась.

Улучшения, которые можно сделать:
- Последовательность captions не должна быть обрывистой, т.е. предложение не расбросано по всему тексту и не нужно 
искать части все по всему массиву.




Улучшенный алгоритм по переводу на русский

1) Берем предложения на английском и русском языках

|______1_____| |____2____|
|______2_________________|
|___________2____________|

2) ФОрмируем словарь Английское предожение - Русское предложение.
3) Определяем для каждого английского предложения строки, на которых они размещены
4) 

1) Убираю таймлайны (2)
2) Сравниваю со скриптом предложения (4) и правлю вручную в meld
3) Путом пдготавливаю предложения для гугла (5)
4) Вручную правлю текст русский
5) И формирую итоговый на рус.





